{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { getAutocomplete } from '../../api/accuWeatherFuncs';\n\n// export const loadAutocomplete = createAsyncThunk(\n//   'search/loadAutocomplete',\n//   async (payload) => {\n//     let autocomplete = [];\n//     if (payload.text){\n//       autocomplete = await getAutocomplete(payload);\n//     }\n//     //autocomplete.data.children.map((subreddit) => subreddit.data);\n//     return autocomplete;\n//   }\n// );\n\nexport const favoritesSlice = createSlice({\n  name: 'favorites',\n  initialState: {\n    //favorites are saved by key - for easy access\n    allFavorites: {}\n  },\n  reducers: {\n    addFavorite(state, action) {\n      const cityKey = action.payload.key;\n      const cityInfo = {\n        name: action.payload.name,\n        current: action.payload.current\n      };\n      state.allFavorites[cityKey] = cityInfo;\n      console.log('added');\n    },\n    removeFavorite(state, action) {\n      const cityKey = action.payload;\n      delete state.allFavorites[cityKey];\n    }\n  }\n});\n\n//selectors\nexport const selectAllFavorites = state => state.favorites.allFavorites;\nexport const selectFavoriteCity = (state, cityKey) => state.search.allFavorites[cityKey];\n//actions\nexport const {\n  addFavorite,\n  removeFavorite\n} = favoritesSlice.actions;\n//reducer\nexport default favoritesSlice.reducer;","map":{"version":3,"names":["createSlice","getAutocomplete","favoritesSlice","name","initialState","allFavorites","reducers","addFavorite","state","action","cityKey","payload","key","cityInfo","current","console","log","removeFavorite","selectAllFavorites","favorites","selectFavoriteCity","search","actions","reducer"],"sources":["C:/Users/Liora Ferrero/Documents/Weather App/weather-app/src/features/favorites/favoritesSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\nimport { getAutocomplete } from '../../api/accuWeatherFuncs';\r\n\r\n// export const loadAutocomplete = createAsyncThunk(\r\n//   'search/loadAutocomplete',\r\n//   async (payload) => {\r\n//     let autocomplete = [];\r\n//     if (payload.text){\r\n//       autocomplete = await getAutocomplete(payload);\r\n//     }\r\n//     //autocomplete.data.children.map((subreddit) => subreddit.data);\r\n//     return autocomplete;\r\n//   }\r\n// );\r\n\r\nexport const favoritesSlice = createSlice({\r\n    name: 'favorites',\r\n    initialState: {\r\n    //favorites are saved by key - for easy access\r\n      allFavorites: {},\r\n    },\r\n    reducers: {\r\n        addFavorite(state, action) {\r\n            const cityKey = action.payload.key;\r\n            const cityInfo = {\r\n                name: action.payload.name,\r\n                current: action.payload.current\r\n            };\r\n            state.allFavorites[cityKey] = cityInfo;\r\n            console.log('added');\r\n        },\r\n        removeFavorite(state, action) {\r\n            const cityKey = action.payload;\r\n            delete state.allFavorites[cityKey];\r\n        }\r\n    }\r\n});\r\n\r\n\r\n//selectors\r\nexport const selectAllFavorites = (state) => state.favorites.allFavorites;\r\nexport const selectFavoriteCity = (state, cityKey) => state.search.allFavorites[cityKey];\r\n//actions\r\nexport const {addFavorite, removeFavorite} = favoritesSlice.actions;\r\n//reducer\r\nexport default favoritesSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,eAAe,QAAQ,4BAA4B;;AAE5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMC,cAAc,GAAGF,WAAW,CAAC;EACtCG,IAAI,EAAE,WAAW;EACjBC,YAAY,EAAE;IACd;IACEC,YAAY,EAAE,CAAC;EACjB,CAAC;EACDC,QAAQ,EAAE;IACNC,WAAW,CAACC,KAAK,EAAEC,MAAM,EAAE;MACvB,MAAMC,OAAO,GAAGD,MAAM,CAACE,OAAO,CAACC,GAAG;MAClC,MAAMC,QAAQ,GAAG;QACbV,IAAI,EAAEM,MAAM,CAACE,OAAO,CAACR,IAAI;QACzBW,OAAO,EAAEL,MAAM,CAACE,OAAO,CAACG;MAC5B,CAAC;MACDN,KAAK,CAACH,YAAY,CAACK,OAAO,CAAC,GAAGG,QAAQ;MACtCE,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;IACxB,CAAC;IACDC,cAAc,CAACT,KAAK,EAAEC,MAAM,EAAE;MAC1B,MAAMC,OAAO,GAAGD,MAAM,CAACE,OAAO;MAC9B,OAAOH,KAAK,CAACH,YAAY,CAACK,OAAO,CAAC;IACtC;EACJ;AACJ,CAAC,CAAC;;AAGF;AACA,OAAO,MAAMQ,kBAAkB,GAAIV,KAAK,IAAKA,KAAK,CAACW,SAAS,CAACd,YAAY;AACzE,OAAO,MAAMe,kBAAkB,GAAG,CAACZ,KAAK,EAAEE,OAAO,KAAKF,KAAK,CAACa,MAAM,CAAChB,YAAY,CAACK,OAAO,CAAC;AACxF;AACA,OAAO,MAAM;EAACH,WAAW;EAAEU;AAAc,CAAC,GAAGf,cAAc,CAACoB,OAAO;AACnE;AACA,eAAepB,cAAc,CAACqB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}