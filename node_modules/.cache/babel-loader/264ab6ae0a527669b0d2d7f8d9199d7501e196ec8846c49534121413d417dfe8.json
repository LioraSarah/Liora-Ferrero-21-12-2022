{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { getCurrentCondition } from '../../api/accuWeatherFuncs';\nexport const loadCurrentCondition = createAsyncThunk('currentCity/loadCurrentCondition', async payload => {\n  if (payload) {\n    const CurrentCondition = await getCurrentCondition(payload);\n    console.log(CurrentCondition[0]);\n    return CurrentCondition[0];\n  }\n});\nconst defaultCity = 'Tel Aviv';\nconst defaultCityKey = '215854';\nconst defaultCityCondition = {\n  \"LocalObservationDateTime\": \"2022-12-21T08:13:00+02:00\",\n  \"EpochTime\": 1671603180,\n  \"WeatherText\": \"Partly sunny\",\n  \"WeatherIcon\": 3,\n  \"HasPrecipitation\": false,\n  \"PrecipitationType\": null,\n  \"IsDayTime\": true,\n  \"Temperature\": {\n    \"Metric\": {\n      \"Value\": 15,\n      \"Unit\": \"C\",\n      \"UnitType\": 17\n    },\n    \"Imperial\": {\n      \"Value\": 59,\n      \"Unit\": \"F\",\n      \"UnitType\": 18\n    }\n  },\n  \"MobileLink\": \"http://www.accuweather.com/en/il/tel-aviv/215854/current-weather/215854?lang=en-us\",\n  \"Link\": \"http://www.accuweather.com/en/il/tel-aviv/215854/current-weather/215854?lang=en-us\"\n};\nexport const currentCitySlice = createSlice({\n  name: 'currentCity',\n  initialState: {\n    CurrentCityName: defaultCity,\n    currentCityKey: defaultCityKey,\n    cityCondition: defaultCityCondition,\n    isLoadingCurrentCondition: false,\n    hasError: false\n  },\n  reducers: {\n    setCurrentCityKey(state, action) {\n      console.log(action.payload);\n      state.currentCityKey = action.payload;\n    },\n    clearCurrentCityKey(state) {\n      state.currentCityKey = '';\n    },\n    setCurrentCityName(state, action) {\n      console.log(action.payload);\n      state.currentCityName = action.payload;\n    },\n    clearCurrentCityName(state) {\n      state.currentCityName = '';\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(loadCurrentCondition.pending, state => {\n      state.isLoadingAutocomplete = true;\n      state.hasError = false;\n    }).addCase(loadCurrentCondition.fulfilled, (state, action) => {\n      state.isLoadingAutocomplete = false;\n      state.cityCondition = action.payload;\n    }).addCase(loadCurrentCondition.rejected, state => {\n      state.isLoadingAutocomplete = false;\n      state.hasError = true;\n      state.cityCondition = {};\n    });\n  }\n});\n\n//selectors\nexport const selectCurrentCityKey = state => state.currentCity.currentCityKey;\nexport const selectCurrentCityName = state => state.currentCity.currentCityName;\nexport const isLoading = state => state.currentCity.isLoadingCurrentCondition;\nexport const selectCurrentCondition = state => state.currentCity.cityCondition;\n//actions\nexport const {\n  setCurrentCityKey,\n  clearCurrentCityKey,\n  setCurrentCityName,\n  clearCurrentCityName\n} = currentCitySlice.actions;\n//reducer\nexport default currentCitySlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","getCurrentCondition","loadCurrentCondition","payload","CurrentCondition","console","log","defaultCity","defaultCityKey","defaultCityCondition","currentCitySlice","name","initialState","CurrentCityName","currentCityKey","cityCondition","isLoadingCurrentCondition","hasError","reducers","setCurrentCityKey","state","action","clearCurrentCityKey","setCurrentCityName","currentCityName","clearCurrentCityName","extraReducers","builder","addCase","pending","isLoadingAutocomplete","fulfilled","rejected","selectCurrentCityKey","currentCity","selectCurrentCityName","isLoading","selectCurrentCondition","actions","reducer"],"sources":["C:/Users/Liora Ferrero/Documents/Weather App/weather-app/src/features/currentCity/correntCitySlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { getCurrentCondition } from '../../api/accuWeatherFuncs';\r\n\r\nexport const loadCurrentCondition = createAsyncThunk(\r\n  'currentCity/loadCurrentCondition',\r\n  async (payload) => {\r\n    if (payload) {\r\n        const CurrentCondition = await getCurrentCondition(payload);\r\n        console.log(CurrentCondition[0]);\r\n        return CurrentCondition[0];\r\n    }\r\n  }\r\n);\r\n\r\nconst defaultCity = 'Tel Aviv';\r\nconst defaultCityKey = '215854';\r\nconst defaultCityCondition = {\r\n  \"LocalObservationDateTime\": \"2022-12-21T08:13:00+02:00\",\r\n  \"EpochTime\": 1671603180,\r\n  \"WeatherText\": \"Partly sunny\",\r\n  \"WeatherIcon\": 3,\r\n  \"HasPrecipitation\": false,\r\n  \"PrecipitationType\": null,\r\n  \"IsDayTime\": true,\r\n  \"Temperature\": {\r\n    \"Metric\": {\r\n      \"Value\": 15,\r\n      \"Unit\": \"C\",\r\n      \"UnitType\": 17\r\n    },\r\n    \"Imperial\": {\r\n      \"Value\": 59,\r\n      \"Unit\": \"F\",\r\n      \"UnitType\": 18\r\n    }\r\n  },\r\n  \"MobileLink\": \"http://www.accuweather.com/en/il/tel-aviv/215854/current-weather/215854?lang=en-us\",\r\n  \"Link\": \"http://www.accuweather.com/en/il/tel-aviv/215854/current-weather/215854?lang=en-us\"\r\n};\r\n\r\nexport const currentCitySlice = createSlice({\r\n    name: 'currentCity',\r\n    initialState: {\r\n      CurrentCityName: defaultCity,\r\n      currentCityKey: defaultCityKey,\r\n      cityCondition: defaultCityCondition,\r\n      isLoadingCurrentCondition: false,\r\n      hasError: false\r\n    },\r\n    reducers: {\r\n        setCurrentCityKey(state, action) {\r\n          console.log(action.payload);\r\n            state.currentCityKey = action.payload\r\n        },\r\n        clearCurrentCityKey(state) {\r\n            state.currentCityKey = ''\r\n        },\r\n        setCurrentCityName(state, action) {\r\n          console.log(action.payload);\r\n            state.currentCityName = action.payload\r\n        },\r\n        clearCurrentCityName(state) {\r\n            state.currentCityName = ''\r\n        }\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder\r\n          .addCase(loadCurrentCondition.pending, (state) => {\r\n            state.isLoadingAutocomplete = true;\r\n            state.hasError = false;\r\n          })\r\n          .addCase(loadCurrentCondition.fulfilled, (state, action) => {\r\n            state.isLoadingAutocomplete = false;\r\n            state.cityCondition = action.payload;\r\n          })\r\n          .addCase(loadCurrentCondition.rejected, (state) => {\r\n            state.isLoadingAutocomplete = false;\r\n            state.hasError = true;\r\n            state.cityCondition = {};\r\n          })\r\n      }\r\n});\r\n\r\n\r\n//selectors\r\nexport const selectCurrentCityKey = (state) => state.currentCity.currentCityKey;\r\nexport const selectCurrentCityName = (state) => state.currentCity.currentCityName;\r\nexport const isLoading = (state) => state.currentCity.isLoadingCurrentCondition;\r\nexport const selectCurrentCondition = (state) => state.currentCity.cityCondition;\r\n//actions\r\nexport const {setCurrentCityKey, clearCurrentCityKey, setCurrentCityName, clearCurrentCityName} = currentCitySlice.actions;\r\n//reducer\r\nexport default currentCitySlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}