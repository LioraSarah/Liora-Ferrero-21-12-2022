{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { getCurrentCondition } from '../../api/accuWeatherFuncs';\nexport const loadCurrentCondition = createAsyncThunk('currentCity/loadCurrentCondition', async payload => {\n  if (payload) {\n    const CurrentCondition = await getCurrentCondition(payload);\n    // console.log(CurrentCondition[0]);\n    return CurrentCondition[0];\n  }\n});\nconst defaultCity = 'Tel Aviv';\nconst defaultCityKey = '215854';\nconst defaultCityCondition = {\n  \"LocalObservationDateTime\": \"2022-12-21T08:13:00+02:00\",\n  \"EpochTime\": 1671603180,\n  \"WeatherText\": \"Partly sunny\",\n  \"WeatherIcon\": 3,\n  \"HasPrecipitation\": false,\n  \"PrecipitationType\": null,\n  \"IsDayTime\": true,\n  \"Temperature\": {\n    \"Metric\": {\n      \"Value\": 15,\n      \"Unit\": \"C\",\n      \"UnitType\": 17\n    },\n    \"Imperial\": {\n      \"Value\": 59,\n      \"Unit\": \"F\",\n      \"UnitType\": 18\n    }\n  },\n  \"MobileLink\": \"http://www.accuweather.com/en/il/tel-aviv/215854/current-weather/215854?lang=en-us\",\n  \"Link\": \"http://www.accuweather.com/en/il/tel-aviv/215854/current-weather/215854?lang=en-us\"\n};\nexport const currentCitySlice = createSlice({\n  name: 'currentCity',\n  initialState: {\n    currentCityName: defaultCity,\n    currentCityKey: defaultCityKey,\n    cityCondition: defaultCityCondition,\n    isLoadingCurrentCondition: false,\n    hasError: false\n  },\n  reducers: {\n    setCurrentCityKey(state, action) {\n      state.currentCityKey = action.payload;\n    },\n    setCurrentCityName(state, action) {\n      state.currentCityName = action.payload;\n    },\n    clearCurrentCityName(state) {\n      state.currentCityName = '';\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(loadCurrentCondition.pending, state => {\n      state.isLoadingCurrentCondition = true;\n      state.hasError = false;\n    }).addCase(loadCurrentCondition.fulfilled, (state, action) => {\n      state.isLoadingCurrentCondition = false;\n      state.cityCondition = action.payload;\n    }).addCase(loadCurrentCondition.rejected, state => {\n      state.isLoadingCurrentCondition = false;\n      state.hasError = true;\n      state.cityCondition = {};\n    });\n  }\n});\n\n//selectors\nexport const selectCurrentCityKey = state => state.currentCity.currentCityKey;\nexport const selectCurrentCityName = state => state.currentCity.currentCityName;\nexport const isLoadingCurrentCity = state => state.currentCity.isLoadingCurrentCondition;\nexport const selectCurrentCondition = state => state.currentCity.cityCondition;\n//actions\nexport const {\n  setCurrentCityKey,\n  setCurrentCityName,\n  clearCurrentCityName\n} = currentCitySlice.actions;\n//reducer\nexport default currentCitySlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","getCurrentCondition","loadCurrentCondition","payload","CurrentCondition","defaultCity","defaultCityKey","defaultCityCondition","currentCitySlice","name","initialState","currentCityName","currentCityKey","cityCondition","isLoadingCurrentCondition","hasError","reducers","setCurrentCityKey","state","action","setCurrentCityName","clearCurrentCityName","extraReducers","builder","addCase","pending","fulfilled","rejected","selectCurrentCityKey","currentCity","selectCurrentCityName","isLoadingCurrentCity","selectCurrentCondition","actions","reducer"],"sources":["C:/Users/Liora Ferrero/Documents/Weather App/weather-app/src/features/currentCity/correntCitySlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { getCurrentCondition } from '../../api/accuWeatherFuncs';\r\n\r\nexport const loadCurrentCondition = createAsyncThunk(\r\n  'currentCity/loadCurrentCondition',\r\n  async (payload) => {\r\n    if (payload) {\r\n        const CurrentCondition = await getCurrentCondition(payload);\r\n        // console.log(CurrentCondition[0]);\r\n        return CurrentCondition[0];\r\n    }\r\n  }\r\n);\r\n\r\nconst defaultCity = 'Tel Aviv';\r\nconst defaultCityKey = '215854';\r\nconst defaultCityCondition = {\r\n  \"LocalObservationDateTime\": \"2022-12-21T08:13:00+02:00\",\r\n  \"EpochTime\": 1671603180,\r\n  \"WeatherText\": \"Partly sunny\",\r\n  \"WeatherIcon\": 3,\r\n  \"HasPrecipitation\": false,\r\n  \"PrecipitationType\": null,\r\n  \"IsDayTime\": true,\r\n  \"Temperature\": {\r\n    \"Metric\": {\r\n      \"Value\": 15,\r\n      \"Unit\": \"C\",\r\n      \"UnitType\": 17\r\n    },\r\n    \"Imperial\": {\r\n      \"Value\": 59,\r\n      \"Unit\": \"F\",\r\n      \"UnitType\": 18\r\n    }\r\n  },\r\n  \"MobileLink\": \"http://www.accuweather.com/en/il/tel-aviv/215854/current-weather/215854?lang=en-us\",\r\n  \"Link\": \"http://www.accuweather.com/en/il/tel-aviv/215854/current-weather/215854?lang=en-us\"\r\n};\r\n\r\nexport const currentCitySlice = createSlice({\r\n    name: 'currentCity',\r\n    initialState: {\r\n      currentCityName: defaultCity,\r\n      currentCityKey: defaultCityKey,\r\n      cityCondition: defaultCityCondition,\r\n      isLoadingCurrentCondition: false,\r\n      hasError: false\r\n    },\r\n    reducers: {\r\n        setCurrentCityKey(state, action) {\r\n            state.currentCityKey = action.payload\r\n        },\r\n        setCurrentCityName(state, action) {\r\n            state.currentCityName = action.payload\r\n        },\r\n        clearCurrentCityName(state) {\r\n            state.currentCityName = ''\r\n        }\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder\r\n          .addCase(loadCurrentCondition.pending, (state) => {\r\n            state.isLoadingCurrentCondition = true;\r\n            state.hasError = false;\r\n          })\r\n          .addCase(loadCurrentCondition.fulfilled, (state, action) => {\r\n            state.isLoadingCurrentCondition = false;\r\n            state.cityCondition = action.payload;\r\n          })\r\n          .addCase(loadCurrentCondition.rejected, (state) => {\r\n            state.isLoadingCurrentCondition = false;\r\n            state.hasError = true;\r\n            state.cityCondition = {};\r\n          })\r\n      }\r\n});\r\n\r\n\r\n//selectors\r\nexport const selectCurrentCityKey = (state) => state.currentCity.currentCityKey;\r\nexport const selectCurrentCityName = (state) => state.currentCity.currentCityName;\r\nexport const isLoadingCurrentCity = (state) => state.currentCity.isLoadingCurrentCondition;\r\nexport const selectCurrentCondition = (state) => state.currentCity.cityCondition;\r\n//actions\r\nexport const {setCurrentCityKey, setCurrentCityName, clearCurrentCityName} = currentCitySlice.actions;\r\n//reducer\r\nexport default currentCitySlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}